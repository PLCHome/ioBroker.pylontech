{
  "version": 3,
  "sources": ["../../src/moc/netMoc.ts"],
  "sourcesContent": ["// Copyright (c) 2020-2023 Tr\u00E4ger\n\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the \"Software\"),\n// to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense,\n// and/or sell copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n// ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n// DEALINGS IN THE SOFTWARE.\n\nimport { RegexParser } from '@serialport/parser-regex';\nimport { readFile } from 'fs/promises';\nimport * as net from 'net';\n\nconst args = process.argv.slice(2);\nconst host: string = args[0];\nconst port: number = parseInt(args[1]);\nconst typ: string = args[2];\nconsole.log('arg1:', 'host =>', host);\nconsole.log('arg2:', 'port =>', port);\nconsole.log('arg3:', 'typ =>', typ);\n\nconst portWork = new net.Socket();\nportWork.connect(port, host);\nconst parser = portWork.pipe(new RegexParser({ regex: /[\\r\\n]+/ }));\nparser.on('data', function (data) {\n  readFile(`data/${typ}/${data}.txt`)\n    .then(data => {\n      portWork.write(data.toString());\n    })\n    .catch(err => {\n      console.log('File fehler', err);\n    });\n\n  console.log('Pack received:\\n' + data);\n});\nportWork.setKeepAlive(true, 1000);\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAoBA,0BAA4B;AAC5B,sBAAyB;AACzB,UAAqB;AAErB,MAAM,OAAO,QAAQ,KAAK,MAAM,CAAC;AACjC,MAAM,OAAe,KAAK;AAC1B,MAAM,OAAe,SAAS,KAAK,EAAE;AACrC,MAAM,MAAc,KAAK;AACzB,QAAQ,IAAI,SAAS,WAAW,IAAI;AACpC,QAAQ,IAAI,SAAS,WAAW,IAAI;AACpC,QAAQ,IAAI,SAAS,UAAU,GAAG;AAElC,MAAM,WAAW,IAAI,IAAI,OAAO;AAChC,SAAS,QAAQ,MAAM,IAAI;AAC3B,MAAM,SAAS,SAAS,KAAK,IAAI,gCAAY,EAAE,OAAO,UAAU,CAAC,CAAC;AAClE,OAAO,GAAG,QAAQ,SAAU,MAAM;AAChC,gCAAS,QAAQ,OAAO,UAAU,EAC/B,KAAK,CAAAA,UAAQ;AACZ,aAAS,MAAMA,MAAK,SAAS,CAAC;AAAA,EAChC,CAAC,EACA,MAAM,SAAO;AACZ,YAAQ,IAAI,eAAe,GAAG;AAAA,EAChC,CAAC;AAEH,UAAQ,IAAI,qBAAqB,IAAI;AACvC,CAAC;AACD,SAAS,aAAa,MAAM,GAAI;",
  "names": ["data"]
}
