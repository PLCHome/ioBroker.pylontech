{
  "version": 3,
  "sources": ["../../src/moc/serialMoc.ts"],
  "sourcesContent": ["// Copyright (c) 2020-2023 Tr\u00E4ger\n\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the \"Software\"),\n// to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense,\n// and/or sell copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n// ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n// DEALINGS IN THE SOFTWARE.\n\nimport { RegexParser } from '@serialport/parser-regex';\nimport { readFile } from 'fs/promises';\nimport { SerialPort } from 'serialport';\n\nconst args = process.argv.slice(2);\nconst path: string = args[0];\nconst baudRate: number = parseInt(args[1]);\nconst typ: string = args[2];\nconsole.log('arg1:', 'port =>', path);\nconsole.log('arg2:', 'baudRate =>', baudRate);\nconsole.log('arg3:', 'typ =>', typ);\n\nconst portWork = new SerialPort({ path, baudRate });\nconst parser = portWork.pipe(new RegexParser({ regex: /[\\r\\n]+/ }));\nparser.on('data', function (data) {\n  readFile(`data/${typ}/${data}.txt`)\n    .then(data => {\n      portWork.write(data.toString());\n    })\n    .catch(err => {\n      console.log('File fehler', err);\n    });\n\n  console.log('Pack received:\\n' + data);\n});\n"],
  "mappings": ";AAoBA,0BAA4B;AAC5B,sBAAyB;AACzB,wBAA2B;AAE3B,MAAM,OAAO,QAAQ,KAAK,MAAM,CAAC;AACjC,MAAM,OAAe,KAAK,CAAC;AAC3B,MAAM,WAAmB,SAAS,KAAK,CAAC,CAAC;AACzC,MAAM,MAAc,KAAK,CAAC;AAC1B,QAAQ,IAAI,SAAS,WAAW,IAAI;AACpC,QAAQ,IAAI,SAAS,eAAe,QAAQ;AAC5C,QAAQ,IAAI,SAAS,UAAU,GAAG;AAElC,MAAM,WAAW,IAAI,6BAAW,EAAE,MAAM,SAAS,CAAC;AAClD,MAAM,SAAS,SAAS,KAAK,IAAI,gCAAY,EAAE,OAAO,UAAU,CAAC,CAAC;AAClE,OAAO,GAAG,QAAQ,SAAU,MAAM;AAChC,gCAAS,QAAQ,GAAG,IAAI,IAAI,MAAM,EAC/B,KAAK,CAAAA,UAAQ;AACZ,aAAS,MAAMA,MAAK,SAAS,CAAC;AAAA,EAChC,CAAC,EACA,MAAM,SAAO;AACZ,YAAQ,IAAI,eAAe,GAAG;AAAA,EAChC,CAAC;AAEH,UAAQ,IAAI,qBAAqB,IAAI;AACvC,CAAC;",
  "names": ["data"]
}
