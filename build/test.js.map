{
  "version": 3,
  "sources": ["../src/test.ts"],
  "sourcesContent": ["//import * as serialport from \"serialport\"\nimport { Value } from './pylontech/Value';\nimport WorkerAbstract from './pylontech/WorkerAbstract';\n//import WorkerNet from \"./pylontech/WorkerNet\";\nimport WorkerSerial from './pylontech/WorkerSerial';\n//import { IValue } from './pylontech/IValue';\nimport fs from 'fs/promises';\n\nconst worker: WorkerAbstract = new WorkerSerial('com7', 115200);\n\nfs.writeFile('./elements', '', { flag: 'w+' });\nworker.getData({ info: true, power: true, statistic: true, celldata: true, cellsoh: true }).then((allData: any) => {\n  console.log(JSON.stringify(allData, null, ' '));\n  function walk(path: string, val: any): void {\n    if (val instanceof Value) {\n      fs.writeFile('./elements', path + '\\t' + val.value + '\\n', { flag: 'a+' });\n      console.log(path + '\\t' + val.value);\n    } else {\n      Object.keys(val).forEach(key => {\n        walk(`${path}.${key}`, val[key]);\n      });\n    }\n  }\n  walk('pylontech.0', allData);\n});\n\nfunction to(time: number): Promise<void> {\n  return new Promise<void>(resolve => {\n    setTimeout(resolve, time * 1000);\n  });\n}\n\nto(30).then((): Promise<boolean> => {\n  return worker.close();\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AACA,mBAAsB;AAGtB,0BAAyB;AAEzB,sBAAe;AAEf,MAAM,SAAyB,IAAI,oBAAAA,QAAa,QAAQ,MAAM;AAE9D,gBAAAC,QAAG,UAAU,cAAc,IAAI,EAAE,MAAM,KAAK,CAAC;AAC7C,OAAO,QAAQ,EAAE,MAAM,MAAM,OAAO,MAAM,WAAW,MAAM,UAAU,MAAM,SAAS,KAAK,CAAC,EAAE,KAAK,CAAC,YAAiB;AACjH,UAAQ,IAAI,KAAK,UAAU,SAAS,MAAM,GAAG,CAAC;AAC9C,WAAS,KAAK,MAAc,KAAgB;AAC1C,QAAI,eAAe,oBAAO;AACxB,sBAAAA,QAAG,UAAU,cAAc,OAAO,MAAO,IAAI,QAAQ,MAAM,EAAE,MAAM,KAAK,CAAC;AACzE,cAAQ,IAAI,OAAO,MAAO,IAAI,KAAK;AAAA,IACrC,OAAO;AACL,aAAO,KAAK,GAAG,EAAE,QAAQ,SAAO;AAC9B,aAAK,GAAG,QAAQ,OAAO,IAAI,IAAI;AAAA,MACjC,CAAC;AAAA,IACH;AAAA,EACF;AACA,OAAK,eAAe,OAAO;AAC7B,CAAC;AAED,SAAS,GAAG,MAA6B;AACvC,SAAO,IAAI,QAAc,aAAW;AAClC,eAAW,SAAS,OAAO,GAAI;AAAA,EACjC,CAAC;AACH;AAEA,GAAG,EAAE,EAAE,KAAK,MAAwB;AAClC,SAAO,OAAO,MAAM;AACtB,CAAC;",
  "names": ["WorkerSerial", "fs"]
}
